<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.68.3" />

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Saber v0.11.2">
    
    <meta name="keywords" content="嵌入式、机器学习" />
    <meta name="og:site_name" content="狮小奇" /><meta property="og:title" content="网络|N1盒子做旁路由刷OpenWRT系统（小白专用） - 狮小奇" />
    <meta property="og:type" content="article" />
    <meta property="title" content="网络|N1盒子做旁路由刷OpenWRT系统（小白专用） - 狮小奇">
    <meta property="og:title" content="网络|N1盒子做旁路由刷OpenWRT系统（小白专用） - 狮小奇">
    <meta property="twitter:title" content="网络|N1盒子做旁路由刷OpenWRT系统（小白专用） - 狮小奇">
    <meta property="description" content="N1盒子做旁路由刷OpenWRT系统（小白专用）
为什么要用N1盒子

现如今新上市的路由器，市面上能买到的300元以内的路由器大多数都是双频(5G Hz和2.4G Hz)和几年前相比无论是速度还是性能都有大幅度提升，作为普通用户已经能满足上网需求。但是由于部分用户对网络环境有其他需求例如，本地NAS存储，可以实现为一台不限速的网络存储，省去随身携带U盘；亦或是实现某些网站的自动签到；再或者实现去广告上网等等等等。
">
    <meta property="og:description" content="N1盒子做旁路由刷OpenWRT系统（小白专用）
为什么要用N1盒子

现如今新上市的路由器，市面上能买到的300元以内的路由器大多数都是双频(5G Hz和2.4G Hz)和几年前相比无论是速度还是性能都有大幅度提升，作为普通用户已经能满足上网需求。但是由于部分用户对网络环境有其他需求例如，本地NAS存储，可以实现为一台不限速的网络存储，省去随身携带U盘；亦或是实现某些网站的自动签到；再或者实现去广告上网等等等等。
">
    <meta property="twitter:description" content="N1盒子做旁路由刷OpenWRT系统（小白专用）
为什么要用N1盒子

现如今新上市的路由器，市面上能买到的300元以内的路由器大多数都是双频(5G Hz和2.4G Hz)和几年前相比无论是速度还是性能都有大幅度提升，作为普通用户已经能满足上网需求。但是由于部分用户对网络环境有其他需求例如，本地NAS存储，可以实现为一台不限速的网络存储，省去随身携带U盘；亦或是实现某些网站的自动签到；再或者实现去广告上网等等等等。
">
    <meta property="og:type" content="article">
    <title>网络|N1盒子做旁路由刷OpenWRT系统（小白专用） - 狮小奇</title>

    <meta property="og:url" content="https://xzsu.top/post/20200329%E7%BD%91%E7%BB%9C-n1%E7%9B%92%E5%AD%90%E5%81%9A%E6%97%81%E8%B7%AF%E7%94%B1%E5%88%B7openwrt%E7%B3%BB%E7%BB%9F%E5%B0%8F%E7%99%BD%E4%B8%93%E7%94%A8/" />

    <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://xzsu.top/css/main.css" />
    <link rel="stylesheet" href="//at.alicdn.com/t/font_1607597_jhmihcvh0tm.css" />
    <link href="https://xzsu.top/index.xml" rel="alternate" type="application/rss+xml" title="狮小奇">
    
    
</head>

<body class="bg-gray-100 text-gray-900 tracking-wider leading-normal">

    <nav id="header" class="bg-white fixed w-full z-10 top-0 shadow">

  <div id="progress" class="h-1 z-20 top-0" style="background:linear-gradient(to right, #4dc0b5 var(--scroll), transparent 0);"></div>

  <div class="w-full container mx-auto flex flex-wrap items-center justify-between my-1">
      <div class="pl-4">
          <a class="text-gray-900 text-base no-underline hover:no-underline font-bold text-xl"  href="https://xzsu.top/">
              狮小奇
          </a>
      </div>

      <div class="block lg:hidden pr-4">
          <button id="nav-toggle" class="flex items-center px-3 py-2 border rounded text-gray-500 border-gray-600 hover:text-gray-900 hover:border-teal-500 appearance-none focus:outline-none">
              <svg class="fill-current h-3 w-3" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Menu</title><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"/></svg>
          </button>
      </div>

      <div class="w-full flex-grow lg:flex lg:items-center lg:w-auto hidden lg:block mt-2 lg:mt-0 bg-gray-100 md:bg-transparent z-20" id="nav-content">
          <ul class="list-reset lg:flex justify-end flex-1 items-center">
          </ul>
      </div>
  </div>
</nav>

    <div id="container" class="container w-full flex flex-wrap mx-auto px-2 lg:pt-12 mt-10">
<section class="w-full lg:w-3/4 xl:w-3/4">

    
    <div class="px-8 py-6 mt-6 lg:mt-0 leading-normal rounded shadow bg-white">

        
        <div>
    <h1 class="font-bold break-normal text-gray-800 pt-2 pb-2 text-2xl lg:text-3xl">
        <a href="https://xzsu.top/post/20200329%E7%BD%91%E7%BB%9C-n1%E7%9B%92%E5%AD%90%E5%81%9A%E6%97%81%E8%B7%AF%E7%94%B1%E5%88%B7openwrt%E7%B3%BB%E7%BB%9F%E5%B0%8F%E7%99%BD%E4%B8%93%E7%94%A8/" title="网络|N1盒子做旁路由刷OpenWRT系统（小白专用）">网络|N1盒子做旁路由刷OpenWRT系统（小白专用）</a>
    </h1>
    <p class="mb-1 text-sm text-gray-500">
        <span title=" 2020-03-29 21:35:58 CST">
            <i class="iconfont icon-calendar" aria-hidden="true"></i> 29 Mar 2020
        </span>

        <span class="hidden xl:inline-block">
            |
            <i class="iconfont icon-book"></i>
            114 字
        </span>

        <span class="hidden xl:inline-block">
            |
            <i class="iconfont icon-clock-o"></i>
            1 分钟读完
        </span>
    </p>
</div>


        <div class="md:hidden">
            
        </div> 

        <div class="post-content">
            <h2 id="n1盒子做旁路由刷openwrt系统小白专用">N1盒子做旁路由刷OpenWRT系统（小白专用）</h2>
<h3 id="为什么要用n1盒子">为什么要用N1盒子</h3>
<ol>
<li>现如今新上市的路由器，市面上能买到的300元以内的路由器大多数都是双频(5G Hz和2.4G Hz)和几年前相比无论是速度还是性能都有大幅度提升，作为普通用户已经能满足上网需求。但是由于部分用户对网络环境有其他需求例如，本地NAS存储，可以实现为一台不限速的网络存储，省去随身携带U盘；亦或是实现某些网站的自动签到；再或者实现去广告上网等等等等。</li>
</ol>
<ol start="2">
<li>**使用普通路由器不可以吗？**由于需要的功能较多，现有路由器在运算和存储容量上都已经无法满足需求，就需要有一台本地的高性能路由器，软路由应运而生，既能解决特殊需求，也不影响网络质量。</li>
<li>**直接买软路由不就得了，N1盒子有什么优势？**由于软路由使用基本上是针对企业或者电子发烧友，普通家庭宽带要求速率不是很高，500M带宽用起来也是绰绰有余，家里也没有较多的网络设备，一来使用多口软路由有些浪费，软路由低配基本也要300元左右，耗电量高不说，多余的网络接口也没啥用，个头也大等等诸多原因，N1对于一般玩家完全够用。</li>
</ol>
<h3 id="n1盒子是什么">N1盒子是什么</h3>
<ul>
<li>
<p>N1盒子是2018年初斐讯公司推出的一款天天链终端，用来做本地NAS(矿机)使用的，由于某些原因公司倒闭，N1盒子也无法使用，淘宝、京东等平台纷纷下架。由于设计N1的时候是为了计算，所以N1盒子在同领域算是性能较高且第三方源码及维护也比较及时，可以说是当今一款性价比较高的产品。</p>
</li>
<li>
<p>N1盒子配置如下：</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">分辨率 - 支持4K输出
SoC - Allogic S905D 64bit 4Core Cortex-A53 1.5G Hz
GPU - Mali-450
RAM - 2GB
ROM - 8GB eMMC
WIFI - 2.4G/5G
蓝牙 - BT4.1
电源 - 5V/2A x1
网口 - 千兆网口 x1
HDMI - x1
USB - USB2.0 x2
</code></pre></div></li>
</ul>
<h3 id="使用的工具及资源下载地址">使用的工具及资源下载地址</h3>
<ol>
<li>电脑</li>
<li>N1盒子</li>
<li>HDMI线</li>
<li>显示器或者电视</li>
<li>路由器（将路由器提前改为123网段：IP：192.168.123.1）</li>
<li>USB公对公线（可能用不到，最好备上一条）</li>
<li>USB2.0 U盘</li>
<li>网线一根</li>
<li>N1盒子电源</li>
<li><a href="https://www.right.com.cn/forum/thread-3160780-1-1.html">OpenWRT固件</a>介绍固件的特性及固件相关信息。<a href="https://pan.baidu.com/share/init?surl=bnigZ0cQTBY6pzo0saP1nQ">百度网盘</a>下载密码（6n4k）；或者<a href="https://drive.google.com/drive/folders/1Gn2hMw2G6I_LgC8MlWFx_n9GDCbb9a14">谷歌网盘</a></li>
<li><a href="https://www.lanzous.com/ia9fgdi">降级工具+设置U盘启动工具</a></li>
</ol>
<h3 id="n1盒子刷入openwrt系统方法">N1盒子刷入OpenWRT系统方法</h3>
<ol>
<li>
<p>接通连线如下：</p>
<p><img src="01%E5%88%B7%E6%9C%BA.png" alt="刷机"></p>
</li>
<li>
<p><strong>降级：</strong></p>
<blockquote>
<p>开机后记录下N1盒子上被路由器DHCP分配的IP地址。</p>
<p>按照<a href="https://www.right.com.cn/forum/thread-340279-1-1.html">降级教程</a>操作降级。注意：一定保证电脑和N1在同一个网段里。</p>
</blockquote>
</li>
<li>
<p><strong>制作镜像U盘：</strong></p>
<blockquote>
<p>使用[balenaEtcher]工具将OpenWRT镜像写入U盘里，U盘里的东西会被格式化，请做好备份。</p>
</blockquote>
</li>
<li>
<p><strong>设置盒子U盘启动：</strong></p>
<blockquote>
<p>将写好系统的U盘插入靠近HDMI口的U盘，然后使用U盘启动工具提示输入N1盒子的地址，大部分情况还是最初路由器DHCP分配的IP地址。之后N1会自动重启，屏幕会显示OpenWRT启动信息，此时即可在浏览器输入192.168.123.2即可进入后台界面。</p>
</blockquote>
</li>
<li>
<p><strong>设置eMMC启动：</strong></p>
<blockquote>
<p>进入下图的TTYD界面，输入用户名：root密码：password。按照<a href="https://www.right.com.cn/forum/thread-3160780-1-1.html">OpenWRT固件</a>文末方法设置将OpenWRT从U盘写入到eMMC。
<img src="03ttyd.png" alt="TTYD"></p>
</blockquote>
</li>
<li>
<p>重启</p>
</li>
<li>
<p>拔掉U盘</p>
</li>
<li>
<p>浏览器输入192.168.123.2进入网页管理后台</p>
</li>
</ol>
<h3 id="n1做为旁路有上网">N1做为旁路有上网</h3>
<ol>
<li>
<p><strong>连接图：</strong></p>
<p><img src="02%E6%8E%A5%E7%BA%BF%E5%9B%BE.png" alt="接线图"></p>
</li>
<li>
<p>浏览器输入192.168.123.1进入路由器后台，关闭DHCP服务(不同路由器设置网上查一查)</p>
</li>
<li>
<p>浏览器输入192.168.123.2进入N1后台，做如下操作：</p>
</li>
</ol>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">网络 - 接口 - Lan口
1. 把Lan口的IPV4地址改到与AP一样的网段(默认是IP192.168.123.2，如果不是可以设置成此IP)
2. 把Lan口的DNS服务器、网关都填写为AP的静态网络地址IP:192.168.123.1
3. 下面的DHCP，点到第二个选项卡，把“强制”勾上，强制用N1作为DHCP服务器
   网络 - 防火墙 - 自定义规则
4.增加一条规则：iptables -t nat -I POSTROUTING -o eth0 -j MASQUERADE
</code></pre></div><h3 id="结束">结束</h3>
<p>​      本文只介绍了将N1设置为旁路由的方法，N1还可以作为电视盒子、游戏主机等多种玩法，感兴趣的网友再自行研究。后续将介绍OpenWRT的使用方法，针对文章有疑问的地方请联系email: <a href="mailto:x@xzsu.top">x@xzsu.top</a>  。</p>

            <hr class="bg-gray-300 mt-8">

            

            

        </div>

        
        <div class="text-base md:text-sm text-gray-500 pt-6">
                <a class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 hover:bg-gray-300"
                    href="https://xzsu.top/tags/n1">
                    #N1
                </a>
                <a class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 hover:bg-gray-300"
                    href="https://xzsu.top/tags/opnwrt">
                    #opnwrt
                </a>
                                    
            </div>
        

         
        

    </div>
    

    
    <hr class="bg-gray-300 my-10">

    
        
        
        
        <div class="">
            <div id="disqus_thread"></div>
    <script type="text/javascript">
    (function() {
      
      
      if (window.location.hostname === 'localhost') return;
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'yourdiscussshortname';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

  <span id="/post/20200329%E7%BD%91%E7%BB%9C-n1%E7%9B%92%E5%AD%90%E5%81%9A%E6%97%81%E8%B7%AF%E7%94%B1%E5%88%B7openwrt%E7%B3%BB%E7%BB%9F%E5%B0%8F%E7%99%BD%E4%B8%93%E7%94%A8/" class="leancloud_visitors" data-flag-title="网络|N1盒子做旁路由刷OpenWRT系统（小白专用）">
		<span class="post-meta-item-text">文章阅读量 </span>
		<span class="leancloud-visitors-count">0</span>
		<p></p>
	  </span>
  <div id="vcomments"></div>
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
  <script type="text/javascript">
    new Valine({
        el: '#vcomments' ,
        appId: 'Udypt4f0KgWxjRWvM7W5dnHp-gzGzoHsz',
        appKey: 'smOiNiDcxAdNF9RX5jyvK6xo',
        notify: 'false',
        verify: 'false',
        avatar:'retro',
        placeholder: '一起交流',
        visitor: 'true'
    });
  </script>

  
        </div>
        

        


<div class="p-8 mt-6 lg:mt-0 rounded shadow bg-white">
    <h2 class="font-sans font-bold break-normal text-gray-700 px-2 pb-3 text-xl">相关文章</h2>
    
    <li><a href="https://xzsu.top/posts/render-latex-using-katex/" class="underline text-orange-600">Render LaTeX using KaTeX</a></li>
    
    <li><a href="https://xzsu.top/posts/dummy/" class="underline text-orange-600">Dummy</a></li>
    
    <li><a href="https://xzsu.top/posts/theme-demo/" class="underline text-orange-600">Theme Demo</a></li>
    
    <li><a href="https://xzsu.top/posts/creating-a-new-theme/" class="underline text-orange-600">Creating a New Theme</a></li>
    
    <li><a href="https://xzsu.top/posts/hugo-template-primer/" class="underline text-orange-600">(Hu)go Template Primer</a></li>
    
</div>


    

</section>


<div class="hidden xl:text-sm xl:block xl:w-1/4 xl:px-6 ">

    <div class="lg:w-full mx-auto items-center justify-between">
    <div class="bg-white shadow rounded overflow-hidden">
        <div class="bg-cover bg-auto mx-auto w-32 h-32 mt-5 rounded-full" style="background-image: url('')"> </div>
        
        <div class="p-4">
            <p class="text-2xl text-center text-gray-900 pb-2"></p>
            <p class="text-sm text-center text-gray-700"></p>
        </div>
        <div class="flex p-4 border-t text-sm border-gray-300 text-gray-700">
            <div class="flex-1 border-r border-gray-600">
                <p class="text-center">
                    <span class="text-gray-700 font-bold">
                        11
                    </span>
                    文章
                </p>
            </div>
            <div class="flex-1 text-center">
                <p class="text-center">
                    <span class="text-gray-700 font-bold">
                        
                            11
                        
                    </span>
                    标签
                </p>
            </div>
        </div>
        <div class="px-4 pb-4 border-t border-gray-300">
            <div class="mt-6 pb-16 lg:pb-0 w-4/5 lg:w-full mx-auto flex flex-wrap items-center justify-between text-gray-500">
                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                
            </div>
        </div>
    </div>
</div>










    <div class="flex flex-col justify-between sticky top-0 pt-12 pb-4 -mt-10 text-gray-600">
        <div class="bg-white shadow rounded p-4 mt-5">
            
        </div>
    </div>
   
</div> 

    </div>
    
    
<footer class="bg-white border-t border-gray-400 shadow mt-10">	
    <div class="container  mx-auto flex py-8">
        <div class="w-full text-center text-gray-600 ">
            <p>
                &copy; 2020 <a  class="text-gray-700" href="https://xzsu.top">狮小奇 By  </a>
            </p>
            
            <p class="pt-1">
                Powered by <a rel="nofollow noreferer noopener" href="https://gohugo.io/"  class="text-gray-700" target="_blank">Hugo</a> 
                Theme based on <a href="https://github.com/forecho/hugo-theme-echo" class="text-gray-700" target="_blank">Echo</a>
            </p>

            

        </div>

    </div>
</footer>

 <script>
  window.onload = function() {
    document.getElementById("nav-toggle").onclick = function() {
      document.getElementById("nav-content").classList.toggle("hidden");
    };

    var donate = document.getElementById("btn-donate");
    if (donate) {
      donate.onclick = function() {
        document.getElementById("donate-image").classList.remove("hidden");
        donate.classList.add("hidden");
      };
    }

    var hostname = window.location.hostname;
    var divs = document.querySelectorAll('a[href^="http"]');
    [].forEach.call(divs, function(div) {
      url = div.getAttribute("href");
      var domain = url
        .replace("http://", "")
        .replace("https://", "")
        .split(/[/?#:]/)[0];
      if (domain !== hostname) {
        div.setAttribute("target", "_blank");
      }
    });
  };

   
  
  var h = document.documentElement,
    b = document.body,
    st = "scrollTop",
    sh = "scrollHeight",
    progress = document.querySelector("#progress"),
    scroll;
  var scrollpos = window.scrollY;
  var header = document.getElementById("header");
  var navcontent = document.getElementById("nav-content");

  document.addEventListener("scroll", function() {
     
    scroll = ((h[st] || b[st]) / ((h[sh] || b[sh]) - h.clientHeight)) * 100;
    progress.style.setProperty("--scroll", scroll + "%");

     
    scrollpos = window.scrollY;

    if (scrollpos > 10) {
      navcontent.classList.remove("bg-gray-100");
    } else {
      navcontent.classList.add("bg-gray-100");
    }
  });
</script>

</body>

</html>